<script>
  // 假設你的後端部署在同一個網域下，例如 https://yourdomain.com
  const API_BASE = "https://yourdomain.com/api";

  async function checkRank() {
    let summoner = document.getElementById("summoner").value.trim();
    if (!summoner) {
      alert("Please enter a summoner name.");
      return;
    }
    document.getElementById("result").innerText = "Fetching rank for: " + summoner + " ...";

    try {
      const res = await fetch(`${API_BASE}/rank?summoner=${encodeURIComponent(summoner)}`);
      if (!res.ok) throw new Error("Network response was not ok");
      const data = await res.json();
      document.getElementById("result").innerText = JSON.stringify(data, null, 2);
    } catch (error) {
      document.getElementById("result").innerText = "Error: " + error.message;
    }
  }

  async function checkStatus() {
    document.getElementById("result").innerText = "Fetching VALORANT platform status...";

    try {
      const res = await fetch(`${API_BASE}/status`);
      if (!res.ok) throw new Error("Network response was not ok");
      const data = await res.json();
      document.getElementById("result").innerText = JSON.stringify(data, null, 2);
    } catch (error) {
      document.getElementById("result").innerText = "Error: " + error.message;
    }
  }
</script>
